import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.Bd8wGOW-.js";import"./_commonjsHelpers.D6-XlEtG.js";import"./index.c0qeY2gs.js";function u(){const[t,m]=o.useState({}),[l,i]=o.useState(!1),[d,r]=o.useState(""),c=(e,n)=>{m(a=>({...a,[e]:n}))},p=async()=>{if(!t.habits||!t.checkmarks||!t.scores){alert("Please select all three CSV files");return}i(!0),r("");try{const e=new FormData;e.append("userId","368deac7-8526-45eb-927a-6a373c95d8c6"),e.append("habits",t.habits),e.append("checkmarks",t.checkmarks),e.append("scores",t.scores);const a=await(await fetch("/api/import/loop-habits",{method:"POST",body:e})).json();a.success?(r(`✅ ${a.message}`),setTimeout(()=>window.location.reload(),2e3)):r(`❌ ${a.message}`)}catch(e){r(`❌ Import failed: ${e.message}`)}finally{i(!1)}};return s.jsxs("div",{className:"card p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-text-primary mb-4",children:"Import Loop Habits Data"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Habits.csv"}),s.jsx("input",{type:"file",accept:".csv",onChange:e=>e.target.files?.[0]&&c("habits",e.target.files[0]),className:"w-full px-3 py-2 bg-surface border border-border rounded-lg text-text-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Checkmarks.csv"}),s.jsx("input",{type:"file",accept:".csv",onChange:e=>e.target.files?.[0]&&c("checkmarks",e.target.files[0]),className:"w-full px-3 py-2 bg-surface border border-border rounded-lg text-text-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Scores.csv"}),s.jsx("input",{type:"file",accept:".csv",onChange:e=>e.target.files?.[0]&&c("scores",e.target.files[0]),className:"w-full px-3 py-2 bg-surface border border-border rounded-lg text-text-primary"})]}),s.jsx("button",{onClick:p,disabled:l||!t.habits||!t.checkmarks||!t.scores,className:"w-full px-4 py-2 bg-accent-primary text-white rounded-lg hover:bg-accent-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Importing...":"Import Habits"}),d&&s.jsx("div",{className:"p-3 bg-surface border border-border rounded-lg",children:s.jsx("p",{className:"text-sm text-text-primary",children:d})})]})]})}export{u as default};
