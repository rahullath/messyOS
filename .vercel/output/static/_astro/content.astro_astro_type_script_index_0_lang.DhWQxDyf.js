const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/index.Bd8wGOW-.js","_astro/_commonjsHelpers.D6-XlEtG.js","_astro/index.c0qeY2gs.js","_astro/client.Ctic5FTx.js","_astro/ContentDashboardComponent.bSLpWaA1.js","_astro/jsx-runtime.D_zvdyIk.js"])))=>i.map(i=>d[i]);
import{_ as d}from"./preload-helper.BlTxHScW.js";async function i(){try{const[t,e,{default:o}]=await Promise.all([d(()=>import("./index.Bd8wGOW-.js").then(n=>n.i),__vite__mapDeps([0,1,2])),d(()=>import("./client.Ctic5FTx.js").then(n=>n.c),__vite__mapDeps([3,1,2])),d(()=>import("./ContentDashboardComponent.bSLpWaA1.js"),__vite__mapDeps([4,5,0,1,2]))]),r=document.getElementById("content-dashboard-container");r&&e.createRoot(r).render(t.createElement(o))}catch(t){console.error("Failed to load content dashboard:",t);const e=document.getElementById("content-dashboard-container");e&&(e.innerHTML=`
          <div class="text-center py-12">
            <div class="text-red-400 mb-4">‚ö†Ô∏è Failed to load dashboard</div>
            <p class="text-text-muted">Please refresh the page</p>
          </div>
        `)}}async function s(t,e){if(!t)return;const o=new FormData;o.append("serializd_data",t);try{a("üìä Importing data...","info");const n=await(await fetch(e,{method:"POST",body:o})).json();n.success?(a(`‚úÖ Successfully imported ${n.stats?.imported||0} items!`,"success"),setTimeout(()=>{i()},1e3)):a(`‚ùå Import failed: ${n.error}`,"error")}catch(r){console.error("Import error:",r),a("‚ùå Import failed. Please try again.","error")}}function a(t,e="info"){const o=document.createElement("div");o.className=`fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 text-white max-w-md ${e==="success"?"bg-green-600":e==="error"?"bg-red-600":"bg-blue-600"}`,o.textContent=t,document.body.appendChild(o),setTimeout(()=>{o.remove()},5e3)}document.addEventListener("DOMContentLoaded",()=>{i(),document.getElementById("enriched-reviews-input")?.addEventListener("change",t=>{const e=t.target.files?.[0];e&&s(e,"/api/content/import/serializd")}),document.getElementById("enriched-shows-input")?.addEventListener("change",t=>{const e=t.target.files?.[0];e&&s(e,"/api/content/import/serializd")}),document.getElementById("refresh-content-btn")?.addEventListener("click",()=>{i()}),document.getElementById("import-enriched-btn")?.addEventListener("click",()=>{window.location.href="/import"})});
